sudo: required

matrix:
  include:
    - language: common-lisp
      env:
        LISP=sbcl
      install:
        # Install lisp support...
        - curl https://raw.githubusercontent.com/luismbo/cl-travis/master/install.sh | bash
        - apt list --installed
      script:
        - make coveralls
    - language: go
      before_install: cd rlgl && make depend
      before_script: make build
deploy:
        provider: releases
        api_key: $AUTH_TOKEN
        file:
          - "build/rlgl-darwin-amd64.tgz"
          - "build/rlgl-linux-amd64.tgz"
          - "build/rlgl-linux-arm.tgz"
          - "build/rlgl-windows-amd64.zip"
        skip_cleanup: true
